<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1" name="viewport"/>
        <title>
            Menu Scripting - ALE Psych Wiki
        </title>
    <meta content="Create or override ALE Psych menu states using HScript or Lua." name="description"/>
    <link href="../../assets/icons/favicon-32.png?v=1" rel="icon" sizes="32x32" type="image/png"/>
    <link href="../../assets/icons/favicon-16.png?v=1" rel="icon" sizes="16x16" type="image/png"/>
    <link href="../../assets/icons/apple-touch-icon.png?v=1" rel="apple-touch-icon" sizes="180x180"/>
    <link href="../../assets/icons/favicon-32.png?v=1" rel="shortcut icon"/>
    <link href="../../assets/icons/site.webmanifest?v=1" rel="manifest"/>
    <meta content="#9d6cff" name="theme-color"/>
    <link href="https://ale-psych-crew.github.io/ALE-Psych-Website/wiki/modding/menu-scripting.html" rel="canonical"/>
    <meta content="Menu Scripting - ALE Psych Wiki" property="og:title"/>
    <meta content="Create or override ALE Psych menu states using HScript or Lua." property="og:description"/>
    <meta content="article" property="og:type"/>
    <meta content="ALE Psych" property="og:site_name"/>
    <meta content="https://ale-psych-crew.github.io/ALE-Psych-Website/wiki/modding/menu-scripting.html" property="og:url"/>
    <meta content="https://files.catbox.moe/6jqidi.png" property="og:image"/>
    <meta content="1200" property="og:image:width"/>
    <meta content="630" property="og:image:height"/>
    <meta content="ALE Psych [Rewritten] - Menu Scripting" property="og:image:alt"/>
    <meta content="summary_large_image" name="twitter:card"/>
    <meta content="Menu Scripting - ALE Psych Wiki" name="twitter:title"/>
    <meta content="Create or override ALE Psych menu states using HScript or Lua." name="twitter:description"/>
    <meta content="@ale_engine" name="twitter:site"/>
    <meta content="https://files.catbox.moe/6jqidi.png" name="twitter:image"/>
    <meta content="ALE Psych [Rewritten] - Menu Scripting" name="twitter:image:alt"/>
    <link href="../../css/global.css" rel="stylesheet"/>
    <link href="../../js/wiki/wiki.css" rel="stylesheet"/>
    <script defer="" src="../../js/global.js">
    </script>
</head>
<body>
    <header class="nav-collapsed nav-collapsible" id="mainHeader">
        <div class="header-left">
            <a aria-label="ALE Psych Home" href="../../" id="homeLogo">
                <img alt="ALE Psych Logo" id="aleHeader" src="../../assets/images/engine-branding/icon.png"/>
            </a>
        <button aria-controls="mainNav" aria-expanded="false" class="header-toggle" id="headerToggle">
            <span class="visually-hidden">
                Toggle navigation
            </span>
        <svg aria-hidden="true" class="icon-menu" focusable="false" viewbox="0 0 24 24">
            <path d="M4 7h16v2H4zm0 4h16v2H4zm0 4h16v2H4z" fill="currentColor">
            </path>
    </svg>
<svg aria-hidden="true" class="icon-close" focusable="false" viewbox="0 0 24 24">
    <path d="M6.7 5.3 5.3 6.7 10.6 12l-5.3 5.3 1.4 1.4L12 13.4l5.3 5.3 1.4-1.4L13.4 12l5.3-5.3-1.4-1.4L12 10.6Z" fill="currentColor">
    </path>
</svg>
</button>
</div>
<nav id="mainNav">
    <a href="../../">
        Home
    </a>
<a href="../../downloads/">
    Downloads
</a>
<a href="../../mods/">
    Mods
</a>
<a href="../../scripts/">
    Scripts
</a>
<a aria-current="page" href="../../wiki/">
    Wiki
</a>
<a href="https://github.com/ALE-Psych-Crew/ALE-Psych/blob/main/docs/lua/Home.md" rel="noopener" target="_blank">
    API (Lua)
</a>
</nav>
</header>
<button aria-controls="wikiSidebar" aria-expanded="false" class="mobile-sidebar-toggle" id="mobileSidebarToggle">
    <svg aria-hidden="true" focusable="false" viewbox="0 0 24 24">
        <path d="M4 7.5a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1Zm0 4a1 1 0 0 1 1-1h10a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1Zm0 4a1 1 0 0 1 1-1h6a1 1 0 0 1 0 2H5a1 1 0 0 1-1-1Z" fill="currentColor">
        </path>
</svg>
<span class="mobile-sidebar-label">
    Wiki menu
</span>
</button>
<main class="wiki-main">
    <article class="wiki-article">
        <h1>
            Menu Scripting
        </h1>
    <p>
        Create new menus or replace existing ones without touching engine source. ALE Psych supports
        <strong>
            HScript
        </strong>
    for full control and
    <strong>
        Lua
    </strong>
for creating scripted menus.
</p>
<h2>
    HScript
</h2>
<h3>
    Creating a Menu
</h3>
<p>
    Add a
    <code>
        .hx
    </code>
script to
<code>
    scripts/states/
</code>
. The filename becomes the menu identifier.
</p>
<pre><code>mods/modName/scripts/states/MyMenu.hx
    </code></pre>
<h3>
    Modifying a Menu
</h3>
<ol>
    <li>
        Copy the desired menu from
        <code>
            assets/scripts/states
        </code>
    into your mod’s
    <code>
        scripts/states/
    </code>
.
</li>
<li>
    Edit the copy; the engine prefers your version.
</li>
<li>
    Enable the FPS counter to see the current state name while testing.
</li>
</ol>
<h3>
    Accessing a Menu
</h3>
<p>
    Use
    <code>
        CoolUtil.switchState
    </code>
to load a scripted state:
</p>
<pre><code class="language-haxe">CoolUtil.switchState(new CustomState('ScriptName'));
    </code></pre>
<h2>
    Lua
</h2>
<h3>
    Creating a Menu
</h3>
<p>
    Place a
    <code>
        .lua
    </code>
script in
<code>
    scripts/states/
</code>
to register a new menu:
</p>
<pre><code>mods/modName/scripts/states/MyMenu.lua
    </code></pre>
<h3>
    Modifying a Menu
</h3>
<p>
    Base menus are HScript-only. To override them with Lua, create an empty
    <code>
        .hx
    </code>
file with the same name and add your Lua script; both will execute together.
</p>
<h3>
    Accessing a Menu
</h3>
<p>
    Use the Lua helper to switch states:
</p>
<pre><code class="language-lua">switchState('funkin.states.CustomState', {'ScriptName'})
    </code></pre>
<h2>
    Notes
</h2>
<ul>
    <li>
        HScript can create and modify menus; Lua creates menus and can piggyback on the empty
        <code>
            .hx
        </code>
    override trick.
</li>
<li>
    Keep filenames consistent; the engine resolves states by script name.
</li>
</ul>
<div class="wiki-meta">
    <span>
        Written by Malloy
    </span>
<span>
    Last updated:
    <span data-time="2025-11-21T00:00:00.000Z" id="last-updated">
        Nov 20, 2025
    </span>
</span>
<a class="wiki-edit" href="https://github.com/ALE-Psych-Crew/ALE-Psych-Website/tree/main/wiki/modding/menu-scripting.md">
    Edit
</a>
</div>
<div class="giscus">
</div>
</article>
<aside class="wiki-sidebar" id="wikiSidebar">
    <h3>
        Pages
    </h3>
<ul class="wiki-nav">
    <li>
        <a href="../../wiki/">
            ALE Psych Wiki
        </a>
</li>
<li>
    <span class="wiki-nav-label">
        Config
    </span>
<ul>
    <li>
        <a href="../../wiki/config/index.html">
            Configuration Overview
        </a>
</li>
<li>
    <a href="../../wiki/config/credits-json.html">
        credits.json
    </a>
</li>
<li>
    <a href="../../wiki/config/data-json.html">
        data.json Configuration
    </a>
</li>
<li>
    <a href="../../wiki/config/debug-panel.html">
        debug.json
    </a>
</li>
<li>
    <a href="../../wiki/config/options-json.html">
        options.json
    </a>
</li>
</ul>
</li>
<li>
    <span class="wiki-nav-label">
        Engine
    </span>
<ul>
    <li>
        <a href="../../wiki/engine/compiling.html">
            Compiling the Engine
        </a>
</li>
<li>
    <a href="../../wiki/engine/shortcuts.html">
        Engine Shortcuts
    </a>
</li>
</ul>
</li>
<li>
    <span class="wiki-nav-label">
        Modding
    </span>
<ul>
    <li>
        <a href="../../wiki/modding/adding-songs.html">
            Adding Songs
        </a>
</li>
<li>
    <a href="../../wiki/modding/custom-classes.html">
        Custom Classes
    </a>
</li>
<li>
    <a href="../../wiki/modding/custom-events.html">
        Custom Events
    </a>
</li>
<li>
    <a aria-current="page" class="active" href="../../wiki/modding/menu-scripting.html">
        Menu Scripting
    </a>
</li>
<li>
    <a href="../../wiki/modding/index.html">
        Modding Overview
    </a>
</li>
<li>
    <a href="../../wiki/modding/substate-scripting.html">
        Substate Scripting
    </a>
</li>
</ul>
</li>
</ul>
</aside>
</main>
<footer id="aleFooter">
    <div class="footer-links">
        <a href="https://github.com/ALE-Psych-Crew/ALE-Psych-Website" rel="noopener" target="_blank">
            Contribute to Website
        </a>
    <a href="https://github.com/ALE-Psych-Crew/ALE-Psych?tab=readme-ov-file#latest-builds" rel="noopener" target="_blank">
        Latest Builds
    </a>
<a href="../index.html" rel="noopener" target="_blank">
    Engine Wiki
</a>
<a href="https://github.com/ALE-Psych-Crew/ALE-Psych/blob/main/docs/lua/Home.md" rel="noopener" target="_blank">
    Engine API (Lua)
</a>
<a href="https://github.com/topics/ale-psych" rel="noopener" target="_blank">
    Git Topic (ALE Psych)
</a>
</div>
<div class="footer-social">
    <a href="https://github.com/ALE-Psych-Crew" rel="noopener" target="_blank">
        <img alt="" class="footer-icon" src="../../assets/svg/index/github.svg"/>
    </a>
<a href="https://discord.gg/NP4U9CUrsH" rel="noopener" target="_blank">
    <img alt="" class="footer-icon" src="../../assets/svg/index/discord.svg"/>
</a>
<a href="https://x.com/ale_engine" rel="noopener" target="_blank">
    <img alt="" class="footer-icon" src="../../assets/svg/index/twitter.svg"/>
</a>
<a href="https://gamebanana.com/wips/95612" rel="noopener" target="_blank">
    <img alt="" class="footer-icon" src="../../assets/svg/index/gamebanana.svg"/>
</a>
</div>
</footer>
<div id="footerCredits">
    ALE Psych [Rewritten] · Created by Alejo GD Official and THE VOID · Website by ImMalloy
</div>
<script defer="" src="../../js/wiki/wiki.js">
</script>
<script async="" crossorigin="anonymous" data-category="GISCUS" data-category-id="DIC_kwDOQIwD7M4CyEAg" data-emit-metadata="0" data-input-position="top" data-lang="en" data-mapping="pathname" data-reactions-enabled="1" data-repo="ALE-Psych-Crew/ALE-Psych-Website" data-repo-id="R_kgDOQIwD7A" data-strict="0" data-theme="catppuccin_mocha" src="https://giscus.app/client.js">
</script>
</body>
</html>
